@inherits MudTextField<string?>

@{
    base.BuildRenderTree(__builder);
}

@code {

    protected override void OnInitialized()
    {
        UserAttributes = new() { { "autocomplete", "new-field-" + Guid.NewGuid() }, };
        AdornmentIcon = Icons.Material.Filled.VisibilityOff;
        Adornment = Adornment.End;
        InputType = InputType.Password;
        AdornmentAriaLabel = "Show Password";
        OnAdornmentClick = EventCallback.Factory.Create<MouseEventArgs>(this, PasswordClick);
    }

    private void PasswordClick(MouseEventArgs args)
    {
        if (InputType == InputType.Text)
        {
            AdornmentIcon = Icons.Material.Filled.VisibilityOff;
            InputType = InputType.Password;
        }
        else
        {
            AdornmentIcon = Icons.Material.Filled.Visibility;
            InputType = InputType.Text;
        }
    }

}